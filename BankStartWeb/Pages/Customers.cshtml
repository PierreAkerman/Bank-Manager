@page
@model BankStartWeb.Pages.CustomersModel
@{
}

<form method="GET">
    <input asp-for="@Model.SearchWord" placeholder="Enter Name or City" />
    <input type="submit" value="Search" />
</form>

<table class="table">
    <tr>
        <th>Id 
            <a asp-page="/Customers" asp-route-searchWord="@Model.SearchWord"  asp-route-col="Id" asp-route-order="asc" >
                <i class='bx bx-sort-a-z'></i></a> 
            <a asp-page="/Customers" asp-route-searchWord="@Model.SearchWord" asp-route-col="Id" asp-route-order="desc" >    
                <i class='bx bx-sort-z-a'></i></a>
            </th>

        <th>National Id 
            <a asp-page="/Customers" asp-route-searchWord="@Model.SearchWord"  asp-route-col="NationalId" asp-route-order="asc" >
                <i class='bx bx-sort-a-z'></i></a> 
            <a asp-page="/Customers" asp-route-searchWord="@Model.SearchWord" asp-route-col="NationalId" asp-route-order="desc" >    
                <i class='bx bx-sort-z-a'></i></a>
            </th>

        <th>Name 
            <a asp-page="/Customers" asp-route-searchWord="@Model.SearchWord" asp-route-col="Givenname" asp-route-order="asc" >
                <i class='bx bx-sort-a-z'></i></a> 
            <a asp-page="/Customers" asp-route-searchWord="@Model.SearchWord" asp-route-col="Givenname" asp-route-order="desc" >    
                <i class='bx bx-sort-z-a'></i></a>

            </th>
        <th>Surname 
            <a asp-page="/Customers" asp-route-searchWord="@Model.SearchWord" asp-route-col="Surname" asp-route-order="asc" >
                <i class='bx bx-sort-a-z'></i></a> 
            <a asp-page="/Customers" asp-route-searchWord="@Model.SearchWord" asp-route-col="Surname" asp-route-order="desc" >    
                <i class='bx bx-sort-z-a'></i></a>

            </th>

            <th>Address
            <a asp-page="/Customers" asp-route-searchWord="@Model.SearchWord" asp-route-col="Streetaddress" asp-route-order="asc" >
                <i class='bx bx-sort-a-z'></i></a> 
            <a asp-page="/Customers" asp-route-searchWord="@Model.SearchWord" asp-route-col="Streetaddress" asp-route-order="desc" >    
                <i class='bx bx-sort-z-a'></i></a>

            </th>

        <th>City 
            <a asp-page="/Customers" asp-route-searchWord="@Model.SearchWord" asp-route-col="City" asp-route-order="asc" >
                <i class='bx bx-sort-a-z'></i></a> 
            <a asp-page="/Customers" asp-route-searchWord="@Model.SearchWord" asp-route-col="City" asp-route-order="desc" >    
                <i class='bx bx-sort-z-a'></i></a>
            </th>

            @foreach (var customer in Model.Customers)
            {
                <tr>
                    <td>@customer.Id</td>
                    <td>@customer.NationalId</td>
                    <td>@customer.Givenname</td>
                    <td>@customer.Surname</td>
                    <td>@customer.Address</td>
                    <td>@customer.City</td>
                    <td><a asp-page="/CustomerDetails" asp-route-customerid="@customer.Id">Details</a></td>
                </tr>
            }

    <tr>
        <td>
            @if (Model.PageNo > 1)
            {
                <a asp-page="/Customers" asp-route-col="@Model.SortCol" asp-route-order="@Model.SortOrder"  asp-route-searchWord="@Model.SearchWord"   asp-route-pageno="@(Model.PageNo - 1)">Prev</a>
            }
        </td>
        <td> Visar sidan @Model.PageNo av totalt @Model.TotalPageCount  </td>
        <td>
            @if (Model.PageNo < Model.TotalPageCount)
            {
                <a asp-page="/Customers" asp-route-col="@Model.SortCol" asp-route-order="@Model.SortOrder" asp-route-searchWord="@Model.SearchWord" asp-route-pageno="@(Model.PageNo + 1)">Next</a>
            }
        </td>
    </tr>

</table>